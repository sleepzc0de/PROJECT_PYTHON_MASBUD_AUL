<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SBSK Prediction App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding-top: 50px; }
        .prediction-result { 
            margin-top: 20px; 
            padding: 15px; 
            background-color: #f4f4f4; 
            border-radius: 5px; 
        }
        .form-section {
            background-color: #f8f9fa;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <h1 class="text-center mb-4">SBSK Prediction Dashboard <br> <h5 class="text-center">(Develop By Aul & Budi)</h5></h1>
        
        <div class="row">
            <div class="col-md-10 offset-md-1">
                <form action="{{ url_for('predict') }}" method="post">
                    <!-- Struktur Pegawai -->
                    <div class="form-section">
                        <h4>Struktur Kepegawaian</h4>
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label>Menteri</label>
                                <input type="number" step="0.01" name="menteri" class="form-control"
                                       value="{{ input_data.menteri if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Wakil Menteri</label>
                                <input type="number" step="0.01" name="wamen" class="form-control"
                                       value="{{ input_data.wamen if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Es IA KK</label>
                                <input type="number" step="0.01" name="es_ia_kk" class="form-control"
                                       value="{{ input_data.es_ia_kk if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Es IA NKK</label>
                                <input type="number" step="0.01" name="es_ia_nkk" class="form-control"
                                       value="{{ input_data.es_ia_nkk if input_data else '' }}" required>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label>Es IB</label>
                                <input type="number" step="0.01" name="es_ib" class="form-control"
                                       value="{{ input_data.es_ib if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Es IIA KK</label>
                                <input type="number" step="0.01" name="es_iia_kk" class="form-control"
                                       value="{{ input_data.es_iia_kk if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Es IIA NKK</label>
                                <input type="number" step="0.01" name="es_iia_nkk" class="form-control"
                                       value="{{ input_data.es_iia_nkk if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Jumlah Pegawai</label>
                                <input type="number" name="jumlah_pegawai" class="form-control"
                                       value="{{ input_data.jumlah_pegawai if input_data else '' }}" required>
                            </div>
                        </div>
                    </div>

                    <!-- Informasi Ruangan -->
                    <div class="form-section">
                        <h4>Informasi Ruangan</h4>
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label>Luas GK Eksisting</label>
                                <input type="number" step="0.01" name="luas_gk_eksisting" class="form-control"
                                       value="{{ input_data.luas_gk_eksisting if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Ruang Kerja</label>
                                <input type="number" step="0.01" name="rkerja" class="form-control"
                                       value="{{ input_data.rkerja if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Ruang Arsip</label>
                                <input type="number" step="0.01" name="rarsip" class="form-control"
                                       value="{{ input_data.rarsip if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Ruang Fungsional</label>
                                <input type="number" step="0.01" name="r_fungsional" class="form-control"
                                       value="{{ input_data.r_fungsional if input_data else '' }}" required>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label>Toilet</label>
                                <input type="number" step="0.01" name="toilet" class="form-control"
                                       value="{{ input_data.toilet if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Ruang Server</label>
                                <input type="number" step="0.01" name="r_server" class="form-control"
                                       value="{{ input_data.r_server if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Ruang Layanan</label>
                                <input type="number" step="0.01" name="r_layanan" class="form-control"
                                       value="{{ input_data.r_layanan if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Lobby</label>
                                <input type="number" step="0.01" name="lobby" class="form-control"
                                       value="{{ input_data.lobby if input_data else '' }}" required>
                            </div>
                        </div>
                    </div>

                    <!-- Informasi Tambahan -->
                    <div class="form-section">
                        <h4>Informasi Tambahan</h4>
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label>Kode Eselon I</label>
                                <input type="text" name="kode_eselon_i" class="form-control"
                                       value="{{ input_data.kode_eselon_i if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Kode Korwil</label>
                                <input type="text" name="kode_korwil" class="form-control"
                                       value="{{ input_data.kode_korwil if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Tipe Kantor</label>
                                <select name="tipe_kantor" class="form-control" required>
                                    <option value="">Pilih Tipe Kantor</option>
                                    <option value="1" {% if input_data and input_data.tipe_kantor == '1' %}selected{% endif %}>Tipe 1</option>
                                    <option value="2" {% if input_data and input_data.tipe_kantor == '2' %}selected{% endif %}>Tipe 2</option>
                                    <option value="3" {% if input_data and input_data.tipe_kantor == '3' %}selected{% endif %}>Tipe 3</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Tipe Bangunan</label>
                                <select name="tipe_bangunan" class="form-control" required>
                                    <option value="">Pilih Tipe Bangunan</option>
                                    <option value="1" {% if input_data and input_data.tipe_bangunan == '1' %}selected{% endif %}>Tipe 1</option>
                                    <option value="2" {% if input_data and input_data.tipe_bangunan == '2' %}selected{% endif %}>Tipe 2</option>
                                    <option value="3" {% if input_data and input_data.tipe_bangunan == '3' %}selected{% endif %}>Tipe 3</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label>Jumlah Pengunjung</label>
                                <input type="number" name="jumlah_pengunjung" class="form-control"
                                       value="{{ input_data.jumlah_pengunjung if input_data else '' }}" required>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label>Nisbah</label>
                                <input type="number" step="0.01" name="nisbah" class="form-control"
                                       value="{{ input_data.nisbah if input_data else '' }}" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary btn-lg">Predict Luas SBSK</button>
                    </div>
                </form>
                
                {% if prediction %}
                <div class="prediction-result text-center mt-4">
                    <h3>Hasil Prediksi</h3>
                    <div class="alert alert-success">
                        <strong>Prediksi Luas SBSK:</strong> {{ prediction|round(2) }} mÂ²
                    </div>
                </div>
                {% endif %}
                
                {% if error %}
                <div class="alert alert-danger mt-3">
                    {{ error }}
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>